# Endfield Helper

游戏《明日方舟：终末地》windows版的自动收菜助手。

# 基本结构

## 设计思路

这是一个基于“录制”和“回放”操作的终末地自动助手，玩家可以将重复的每日任务操作录制为脚本，通过播放脚本的方式实现日常的自动化。除了游戏内操作的录制和回放外，助手内置了一些基于图像识别或OCR的复杂模块，作为一些“非固定”任务的自动化组件（例如，游戏中的弹性物资买卖）。

## 助手可以做什么？

基建自动收菜、基建发快递收快递、基建自动倒货、环境检测接单、每日五次情报交流、自动送快递（需要玩家录制自己的快递路线）等。

这些操作都提供了预置脚本，但由于此工具的点击操作基于屏幕坐标（屏幕长宽比2560：1600），因此在不同的显示设备上可能失效。不过，玩家也可以录制自己的脚本，或编辑预置脚本来适配自己的电脑。

## 助手不能做什么？

帝江号收菜（技术上没有难题，但需要比较复杂的识别逻辑控制）、背包整理（技术上没有难题，开发中）、自动收集稀有采集物（技术上没有难题，工作量比较大，运行耗时会很长）、自动送礼（技术上没有难题，开发中）、自动战斗清体力（自动战斗不好做，不同队伍轴和练度不一样，很难打定番，暂时不考虑）、各种活动的自动化（非每日日常，开发收益小，没必要）、自动收取邮件（技术上没有难题，开发中）

## 架构相关

完全采用Python实现，代码纯ai生成零手工。配置文件使用json格式。图片模板templates使用png格式游戏截图。

# 使用说明

## 用户界面

![ui1](imgs/ui1.png)

输入配置路径/打开配置文件/运行配置文件（在游戏内重放配置文件记录的一系列操作）

![ui2](imgs/ui2.png)

备注：为配置文件写一段注释，切换配置或关闭时自动保存，选择配置时会加载。

![ui3](imgs/ui3.png)

录制/组合/编辑面板：助手的三种工作模式。录制模式下，可以记录游戏内的操作到配置文件（timeline configs），这些配置会记录每个操作的时间点，并在回放时根据时间点自动触发操作，不考虑前一步操作是否已经完成；组合模式下，可以将多个现有配置文件排列形成新的配置文件（composition configs），这些配置没有时间点的概念，回放时会逐个回放内部的所有子操作，当一个子操作完成后才会运行下一个子操作；编辑模式下，可以对两种配置文件做一些细节编辑和修改。

# 预置配置

# 开发
